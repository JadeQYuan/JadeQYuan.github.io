title: 泛型
categories:
  - Java
tags: []
description: 泛型
author: Jade
date: 2021-09-03 15:09:00
---

## 泛型
	参数化类型，将类型由原来的具体类型参数化，然后在使用/调用的时候传入具体的类型。
	参数化： 在不创建新的类型的情况下， 通过泛型指定的不同类型来控制形参具体限制的类型。

## 使用
### 泛型类
		泛型类型用于类的定义中，被成为泛型类。
		在实例化类的时候指明泛型的具体类型，或子类实现/继承时指定类型。
### 泛型方法
		在调用方法的时候指明泛型的具体类型。
		静态方法无法访问类定义上的泛型。
### 泛型通配符
		？
### 泛型边界
		上界 extends
		下界 super

## 类型擦除
	避免过多的创建类而造成的运行时的过度消耗。
	泛型的约束在编译期生效，在运行期无效，可以在运行期忽略泛型。
	
## 获取具体类型
### 获取父类具体类型
		eg: public class TestA extends ParentA<String> {}

		ParameterizedType type = (ParameterizedType)子类对象.getClass().getGenericSuperClass();
		type.getActualTypArguments();
### 获取接口具体类型
		eg：public class TestB<T> implements InterfaceA<T> {}

		ParameterizedType[] types = (ParameterizedType)子类对象.getClass().getGenericInterfaces();
		...
### 获取泛型方法返回值类型
		ParameterizedType type = getMethod("...").getGenericReturnType();
		type.getActualTypArguments();
### 获取泛型方法参数具体理性
		Type[] genericParameterTypes=method.getGenericParameterTypes();
		...
### 通过泛型成员获取具体类型
		eg: List<String> list;
		
		ParameterizedType type = (ParameterizedType) field.getGenericType();
		type.getActualTypArguments();
### 类定义时没有指定泛型类型，而在使用时指定泛型类型，这种情况无法获取具体类型信息，这时getClass()获取的是类模板上的信息。
	比如 List<String> list = new ArrayList<>(); 无法获取list的具体类型信息。
	
## Type 接口
	GenericArrayType, ParameterizedType, WildcardTYpe, TypeVariable， Class

## super
	只有使用泛型通配符，在使用过程中，或定义泛型方法参数时才能使用super关键字。
	
### 泛型推导 
	https://www.cnblogs.com/heimianshusheng/p/5766573.html
	