title: 设计模式-行为型-访问者（Visitor）
description: 设计模式-行为型-访问者。Visitor。
categories:
  - 设计模式
author: Jade
date: 2022-01-06 11:00:00
---

## 概念
将数据结构与数据操作分离。

## 模式实现
```java

```

## 组成
- 抽象访问者
- 具体访问者
- 抽象元素
- 具体元素
- 对象结构

## 优缺点
- 优点
  - 良好的扩展性。
  - 灵活性。
- 缺点
  - 增加新的元素类困难。

## 解释
- 一般实现： instanceof。
- 在Java中，实际上是分离了Collection结构中的元素和对这些元素进行操作的行为。
- 前提是结构中的对象类型很少改变。
- 结合反射机制，使用范围更广。
- 降低稳定的数据结构和易变的操作之间的耦合。
- 遍历对象结构时，元素调用方法，传入访问者，在通过访问者调用元素，与直接用访问者对元素进行操作有什么区别？ -- 元素可能包含本身业务逻辑的相关操作。

## 源码中的使用
- JDK
