title: 工作流
categories:
  - 项目
description: 工作流
author: Jade
date: 2020-09-04 17:06:00
---

## BPS
- EOS Studio 流程集成开发环境
- EOS Server 流程运行环境
- EOS Governor 流程治理工具

### EOS Studio
面向构件应用的开发。
- 业务逻辑构件
- 展现逻辑构件
- 页面构件
- 数据逻辑构件
- 运算逻辑构件
- 工作流构件
  - 连接线 表示从一个活动执行到另一个活动的顺序。设置连接线的条件表达式，通过条件决定流程的流转。
  - 开始
  - 结束
  - 人工活动 
  - 自动活动 无需人工干预，系统自动执行的活动。
  - 子流程 一种特殊的活动，指向一个流程，表示当流程运行到此处时，启动另外一个或多个流程。
  - 路由 一种逻辑活动，在流程中起承上启下的作用，活动本身并不执行任何具体的任务。

### EOS Server
支撑SOA应用和服务的运行环境。
由SCA容器、构件运算环境、页面流引擎、逻辑流引擎、系统服务、基础服务等核心模块组成。

## 流程引擎
EOS工作流最重要的组成部分是它的核心调度算法。由事件来驱动流程运转的引擎，数据库只是把引擎运转前后的状态持久化。
事件驱动优点：解耦；异步。

## 工作流
- 会签
    - 按个数
    - 按百分比
- 子流程
- 参与者 机构、岗位、角色、人员、流转规则
- 流转历史
- 驳回

## 数据库
- 流程定义 WFProcessDefine
- 活动定义 WFActivityDefine
- 流程实例 WFProcessInst
- 活动实例 WFActivityInst
- 工作项 WFWorkItem（一般一个活动实例产生一个工作项，路由节点产生多个工作项）
- 参与者 WFWIParticipant

## 工作内容
- 工作流开发：条件判断、会签、子流程、撤回、审批、传阅、流转历史。
- 组件维护：人员/岗位选择、参与者控件、流转历史控件、审批意见控件。
- 复杂业务系统：东大报修、东大教代会。
- 低代码平台CorePlus：使用。

### 工作流与业务结合
- 页面组件：业务系统组件需要自己实现。
- 调用流程接口：普通流程中由已经封装的流程组件处理，业务系统中单独调用。
- 查询：普通流程中只有待办、已办几个已封装组件，业务系统中有自己的业务逻辑，需要结合业务表及流程引擎表结合查询。
