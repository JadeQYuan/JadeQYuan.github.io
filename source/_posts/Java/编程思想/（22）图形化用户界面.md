title: 图形化用户界面
description: 图形化用户界面
categories: 
  - Java
  - 编程思想
author: Jade
date: 2021-12-31 14:00:00
---

{% markmap %}

## 22.0 序
- Java 1.0版本中的图形用户界面（GUI）库，其最初的设计目标时帮助程序员编写在所有平台上都能良好表现的GUI程序。这个目标没有达到。
- Java 1.0提供的AWT（Abstract Window Toolkit，抽象窗口工具包）编程模型非常笨拙，并且不是面向对象的。
- Java 1.1的AWT中引入了事件模型（更清晰的、面向对象的方法），及JavaBeans（最初是为了使可视化编程环境的创建变得更容易而引入的构件编程模型）。
- Java 2最终完成了从旧式的AWT到新标准的转换。其中有关GUI的部分被称为Swing。
- Swing使一组易于使用、易于理解的JavaBeans，它能通过拖放操作（也可以通过手工编写）来创建合理的GUI程序。
- Java中仍然存在某些AWT构件，有时必须使用它们。
- Swing与其他语言或开发环境相比，使已经改进了很多的编程模型。
- Swing中有一个非常令人称道的原则，称为正交使用。一旦你理解了库中某个通用概念，就可以把这个概念应用到其他地方。
- 为了可移植性，Swing完全用Java编写。
- Swing还支持可插式外观，用户界面的外观可以动态改变，以适应不同平台和操作系统下用户的习惯。

## 22.1 applet
- applet是一种可以在Internet上传递，并在Web浏览器中运行的程序。
- Java applet作为客户端应用传递系统，从来都没有实现大规模应用。
- 如果可以保证用户安装了JRE，那么applet就有可能称为分发客户程序和自动更新所有机器的最佳方式，而这种方式不需要分发和安装新软件通常所需的那些开销和投入。

## 22.2 Swing基础
- 大多数Swing应用都被构建在基础的JFrame内部，JFrame在使用任何操作系统中都可以创建视窗应用。
- JLabel。
- 其他线程应该通过Swing事件分发线程提交要执行的任务。

## 22.3 创建按钮
- 创建按钮只要在希望出现在按钮上的标签调用JButton的构造器即可。
- 一般来说，要在类中为按钮创建一个字段，以便以后可以引用这个按钮。
- FlowLayout，布局管理器，是面板用来隐式地决定控件在窗体上的位置的工具。

## 22.4 捕获事件
- 事件驱动编程的基础，就是把事件同处理事件的代码连接起来。
- 在Swing中，这种关联的方式就是通过清楚地分离接口（图形组件）和实现（当和组件相关的事件发生时要执行的代码）而做到的。
- 每个Swing组件都能够报告其上所有可能发生的事件，并且它能单独报告每种事件。
- JTextField组件。
- 通常，把ActionListener实现成匿名内部类会更方便，尤其是对每个监听器类只使用一个实例的时候更是如此。

## 22.5 文本区域
- 除了可以有多行文本以及更多的功能不同之外，JTextArea与JTextField在其他方面都很相似。
- JScrollPane。滚动控制。

## 22.6 控制布局
- 在Java中，组件放置在窗体上的方式完全基于代码，没有用来控制组件布局的资源。
- 组件放置在窗体上的方式不是通过绝对坐标控制，而是由布局管理器根据组件加入的顺序决定其位置。
- 使用不同的布局管理器，组件的大小、形状和位置将大不相同。
- 布局管理器还可以适应applet或应用程序窗口的大小。
- JApplet、JFrame、JDialog、JPanel等都可以包含和显式组件。
- BorderLayout。默认布局模式。具有四个边框区域和一个中央区域的概念。
- FlowLayout。从左到右流动到窗体上。
- GridLayout。构建一个放置组件的表格。
- GridBagLayout。最复杂的布局管理器。目的主要是辅助GUI构造工具自动生成代码。
- TableLayout。GridBagLayout可替换选择。不属于Swing类库，需要单独下载。
- 绝对定位。null。传递以像素坐标为单位的边界矩形的参数。
- BoxLayout。具有GridBagLayout的许多好处，却不像GridBagLayout那么复杂。
- 只要理解了布局的方式以及如何处理事件，那么如何手工放置组件的细节就显得不那么重要了；应该让合适的工具去做这些事情。

## 22.7 Swing事件模型
- 在Swing的事件模型中，组件可以发起（触发）一个事件。每种事件的类型由不同的类表示。
- 当事件被触发时，它将被一个或多个监听器接受，监听器负责处理事件。
- 事件发生的地方与事件处理的地方分离开。这是一个分离接口与实现的极佳例子。
- 所谓事件监听器，就是一个实现特定类型的监听器接口的类对象。
- 程序员要做的就是，先创建一个监听器对象，然后把它注册到触发事件的组件。这个注册动作是通过调用出发事件的组件的addXXXListener方法来完成的。
- 要编写一个监听器类，唯一的要求就是必须实现相应的接口。
- 可以创建一个全局的监听器类，不过有时写成内部类会更有用。 1. 分组； 2. 持有对外部类的引用。 

- 所有Swing组件都具有addXXXListener和removeXXXListener方法。
- 事件模型是可扩展的。
- 每种组件所支持的事件类型都是固定的。
- 某些含有多个方法的监听器接口提供了相应的适配器。适配器为接口里的每个方法都提供了默认的空实现。
- 适配器的出发点就是为了使监听器类变得更容易。也有某种形式的缺陷。-- @Override。

## 22.8 Swing组件一览
- 按钮，AbstractButton。按钮组，ButtonGroup。
- 图标，Icon。
- 工具提示，setToolTipText。
- 文本域，JTextField。
- 边框，setBorder。
- 编辑器，JTextPanel。
- 复选框，JCheckBox。
- 单选按钮，JRadioButton。
- 组合框，JComboBox。
- 列表框，JList。
- 页签面板，JTabbedPane。
- 消息框，JOptionPane。
- 菜单，JMenuBar，JMenu，setJMenuBar。
- 弹出式菜单，JPopupMenu。
- 绘图，JComponent，JPanel，paintComponent。
- 对话框，JDialog。
- 文件对话框，JFileChoose。
- HTML，html标记。
- 滑块与进度条，ProgressMonitor，JProgressBar。
- 选择外观，UIManager。
- 树、表格、剪贴板。

## 22.9 JNLP与Java Web Start
- JNLP，Java Network Launch Protocol，Java网络发布协议。
- JNLP是一个协议，而不是实现，Java Web Start是由Sun免费提供的官方参考实现，并且作为Java SE5的一部分而发布的。
- 能把applet的所有优点和应用程序的优点结合起来。

## 22.10 Swing与并发
- 当你用Swing编程时，就是在使用线程。不用显式地创建Thread对象。

## 22.11 可视化编程与JavaBean
- 类是最可重用的代码单元，因为它把性质（字段）和行为（方法）聚合成一个单元，所以它既可以被直接重用，也可以通过组合或继承得到重用。
- 可视化编程。Visual BASIC（VB）、Delphi。
- 实际上可视化表示通常就是组件在运行的程序中可被观察到的方式。所以可视化编程的部分过程就包括了从选用区选择组件，然后把它拖放到窗体上。
- 在拖放的过程中，应用程序构建集成开发环境（IDE）会帮着生成相应的代码，这些代码将在程序实际运行的时候创建相应的组件。
- 简单地把组件拖放到窗体上一般还不足以完成程序。通常，还必须改变组件的特征。可以在设计时被修改的特征被称为属性。
- IDE构建工具能够使用反射机制来动态地向组件查询，以找出组件具有的属性和支持的事件。
- 可视化编程工具成功的原因就在于，极大地加速了程序的构建过程。

- 通过引入JavaBean，Java把可视化组件的创建带到了最高的层次，因为Bean就是一个类。
- 要编写一个Bean，不必添加任何代码或者使用任何特殊的语言功能。
- 唯一要做的就是，对方法的名称做少许修改。通过方法得到名称就能告诉应用程序构建工具，这是一个工具，一个事件，还是只是一个普通方法。
- JavaBean命名规则。对于属性，需要get/set方法。通常，所有的字段都是私有的，只能通过方法和属性进行访问。

- Java的反射机制能发现未知类的所有方法。Java语言里加入反射机制的主要原因之一就是为了支持JavaBean（对象序列化、RMI）。
- Introspector（内省器）类，标准工具，使用Bean用起来简单，而且对于创建更复杂的Bean也能提供一个标准方法。
- 静态getBeanInfo方法。传递一个Class对象引用，能够完全侦测这个类，然后返回一个BeanInfo对象，可以通过这个对象得到Bean的属性、方法和事件。

- 当创建Bean的时候，必须要假设它可能会在多线程环境下运行。
- 尽可能地让Bean中的所有公共方法都是synchronized的。
- 当一个多路事件触发了一组对该事件感兴趣的监听器时，必须假定在遍历列表进行通知的同时，监听器可能会被添加或删除。

- 在把JavaBean加入到某个支持Bean的IDE之前，必须把它置于一个Bean容器中，也就是一个JAR文件。
- 一旦把Bean正确地打包成JAR文件，就可以把它导入支持Bean的IDE中了。导入方式根据不同的工具有所不同。

- JavaBean架构提供的门槛很低，但也可以扩展到更复杂的情况。
- 可以针对属性提供高级功能。如索引属性：使用数组来表示多重属性。
- 属性可以被绑定。PropertyChangeEvent。
- 属性可以被约束。PropertyChangeEvent。
- 还可以改变Bean在设计阶段的表示方式。...

## 22.12 Swing的可替代选择
- 尽管Swing类库是Sun支持的GUI，但它决不是创建图形化用户界面的唯一方式。
- 有两种重要的可替代选择。
- 用于Web之上的客户端GUI的使用MacroMedia的Flex编程系统的MacroMedia Flash。
- 以及用于桌面应用的开源的Eclipse标准工具包（Standard Widget Toolkit，SWT）类库。

## 22.13 用Flex构建Flash Web客户端
- Flex由基于XML和脚本的编程模型以及非常健壮的组件库构成的，其中的编程模型与HTML和JavaScript的编程模型类似。
- 需要使用MXML语法来声明布局管理和工具控件，并且需要使用动态脚本机制来添加事件处理和服务调用代码。

## 22.14 创建SWT应用
- swt.jar。

## 22.15 总结
- IDE是真正革命性的进步。

{% endmarkmap %}

## 理解
- 字段：Java类中的域。
- 属性：Java Bean中的概念，拥有get/set方法的字段。