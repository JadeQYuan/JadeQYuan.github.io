title: 操作符
description: 操作符
categories: 
  - Java
  - 编程思想
author: Jade
date: 2021-12-02 19:00:00
---

在最底层，Java中的数据是通过使用操作符来操作的。
## 3.1 更简单的打印语句
静态导入static import。

## 3.2 使用Java操作符
操作符作用于操作数，接受一个或多个参数，并生成一个新值。参数形式与普通方法调用不同。
副作用：操作符改变操作数自身的值。
能改变其操作数的操作符，最普遍的用途是用来产生副作用。使用有副作用的操作符和没有副作用的操作符，生成的值没有什么区别。
几乎所有的操作符都只能操作基本类型。例外的操作符是“=”、“==”、“！=”，这些能操作所有的对象。String类支持“+”、“+=”操作符。

## 3.3 优先级
当一个表达式中存在多个操作符时，操作符的优先级决定了各部分的计算顺序。 
最简单的规则是先乘除后加减。程序员经常会忘记其他优先级规则，所以应该用括号明确规定计算顺序。

## 3.4 赋值
取右边的值，把它复制给左边。右值可以是任何常数、变量或者表达式。但左值必须是一个明确的，已命名的变量。即必须有一个物理空间可以存储等号右边的值。
基本类型存储了实际的数值，为其赋值时，是直接将一个地方的内容复制到了另一个地方。
别名现象：多个变量引用指向同一个对象。

## 3.5 算术操作符
包括"+", "-", "*", "/", "%"。整数除法会直接去掉结果的小数位。
操作符简化："+=", "-=", "*=", "/=", "%="。
一元加减号：编译器自动识别，规范加括号。（eg：x = a*(-b)）。
一元减号用于改变数据的符号. 一元加号只是为了与一元减号对应，但可以将较小类型的操作数提升为int。

## 3.6 自动递增和递减
递增、递减是两种快捷运算。Java提供了大量的快捷运算，使编码更方便。
包括"i++","++i","i--","--i"。
前缀会先执行运算，在生成值。后缀会先生成值，在执行运算。
除涉及赋值的操作符以外，唯一具有"副作用"的操作符（会改变操作数）。

## 3.7 关系操作符
包括">", "<", ">=", "<=", "==", "!="。生成的是一个boolean结果（true/false）。
"==","!="适用于所有基本类型，其它不适用于boolean类型。
==：比较引用。equals默认比较引用，重写比较内容，不适合用于基本类型。

## 3.8 逻辑操作符
包括"&&", "||", "!"。能根据参数的逻辑关系，生成一个boolean值。
只可应用于boolean值。
短路：一旦能够明确无误地确定整个表达式的值，就不再计算表达式余下的部分了。潜在的性能提升。

## 3.9 直接常量
编译器可以明确地知道要生成什么样的类型。用与直接常量相关的某些字符来额外增加一些信息。
直接常量后面的后缀字符标志了它的类型。直接常量的前缀标识不同进制。
前缀："0x"十六进制，"0"十进制。
后缀："l/L"浮点型，"d/D"双精度型。
指数记数：e 代表 "10的幂次"。

## 3.10 按位操作符
包括"&", "|", "\~", "^"。用来操作整个基本数据类型的单个bit，即二进制位。
来源于C语言面向底层的操作。Java的设计初衷是嵌入电视机顶盒内，所以这种操作被保留了下来。但是不会过多的使用到。
除“~”（一元操作符）外，可与"="联合使用.

## 3.11 移位操作符
包括"<<"(左移，低位补0), ">>"(有符号右移，高位正插0，负插1), ">>>"(无符号右移，高位插0)。操作对象是二进制的bit。
只可用来处理整数类型（基本数据的一种）。
可与"="联合使用。

## 3.12 三元操作符 if-else
三元操作符也称条件操作符。有三个操作数。
表达式：boolean-exp ? value0 : value1;。

## 3.13 字符串操作符
包括"+"， "+="。用来连接不同的字符串。
C++可以为几乎所有操作符增加功能。而Java不能实现自己的重载操作符。
如果表达式以一个字符串起头，那么后续所有操作数都必须是字符串类型（编译器会把双引号内的字符序列自动转成字符串）。

## 3.14 使用操作符时常犯的错误
即使对表达式如何计算优点不确定，也不愿意使用括号。
“=”“==”、“&”“&&”、“|”“||” 可能会输入错误。Java编译器可防止这种错误发生，因为不允许把一种类型当作另一种类型来用。

## 3.15 类型转换操作符
类型转换(cast)。显式的进行类型的转换，或者在不能自动进行转换时强制进行类型转换。
将float、double转为整型，会截尾，即向下取整。可以使用Math.round()，四舍五入。
对基本数据类型进行执行算术运算或按位运算，只要类型比int小，在运算之前，会自动转换成int，最终结果就是int型，如果要把结果赋值给较小的类型，就必须使用类型转换。

## 3.16 Java没有sizeof
C/C++中，sizeof()操作符返回数据分配的字节数。使用sizeof最大的原因是为了“移植”。
Java不需要sizeof，因为所有类型在所有机器中的大小是相同的。

## 3.17 操作符小结
对boolean的运算有限，只能赋予true和false。
对char、byte、short进行任何算术运算时，数据类型会提示为int。必须显示转换为原来的类型（可能会丢失信息）。
对int执行乘法运算，结果可能会溢出。

## 理解
C中明确比较了操作符的优先级，而Java则建议使用括号来明确优先级。
除了字符串支持（+=、+）及赋值（=）操作符，其它操作符的操作数都是基本类型。
