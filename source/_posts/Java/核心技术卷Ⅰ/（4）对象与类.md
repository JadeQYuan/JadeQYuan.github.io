title: 对象与类
description: 对象与类
categories: 
  - Java
  - 核心技术卷I
author: Jade
date: 2022-01-12 14:00:00
---

{% markmap %}

## 4.1 面向对象程序设计概述
- 传统的结构化程序设计通过设计一系列的过程（即算法）来求解问题。
- 一旦确定了这些过程，就要开始考虑存储数据的方式。
- 算法 + 数据结构 = 程序。 算法是第一位的，数据结构是第二位的。
- 而OOP却调换了这个次序，将数据放在第一位，然后在考虑操作数据的算法。
- 对于一些规模较小的问题，将其分解为过程的开发方式比较理想。而面向对象更加适用于解决规模较大的问题。

- 类（class）是构造对象的模板或蓝图。
- 由类构造（construct）对象的过程称为创建类的实例（instance）。
- 封装是与对象有关的一个重要概念。
- 实现封装的关键在于绝对不能让类中的方法直接地访问其他类的实例域。程序仅通过对象的方法与对象数据进行交互。
- 通过扩展一个类来建立一个新的类的过程称为继承（inheritance）。

- 对象的三个主要特性：行为、状态、标识。

- 传统的过程化程序设计，必须从顶部的main函数开始编写程序。
- OOP首先从设计类开始，然后再往每个类中添加方法。

- 在类之间，最常见的关系有： 依赖（uses-a）、聚合（has-a）、继承（is-a）。
- 继承、接口实现、依赖、聚合、关联、直接关联。

## 4.2 使用预定义类
- 并不是所有类都具有面向对象特征。
- Math类只封装了功能，它不需要也不必隐藏数据。

- 要想使用对象，就必须首先构造对象，并指定其初始状态。然后对对象应用方法。
- 在Java程序设计语言中，使用构造器构造新实例。构造器是一种特殊的方法，用来构造并初始化对象。
- 构造器的名字应该与类名相同。new操作符。
- 一个对象变量并没有实际包含一个对象，而仅仅引用一个对象。
- 局部变量不会自动地初始化为null，必须通过调用new或将它们设置为null进行初始化。
- Data类标识时间点。GregorianCalendar类用来表示日历表示法。扩展类Calendar描述了日历的一般属性。

- 对实例域做出修改的方法称为更改器方法（mutator method）。
- 仅访问实例域而不进行修改的方法称为访问器方法（accessor method）。
- 通常的习惯是在访问器方法名前面加上前缀get，在更改器方法前面加上前缀set。

## 4.3 用户自定义类
- 要想创建一个完整的程序，应该将若干类组合在一起，其中只有一个类有main方法。
- 使用通配符调用java编译器。
- 编译时会自动查找依赖的文件进行编译。
- 构造器总是伴随着new操作符的执行被调用，而不能对一个已经存在的对象调用构造器来达到重新设置实例域的目的。
- 隐式参数（this）与显式参数。
- 基于类的访问权限：一个类的方法可以访问该类的任何一个对象的私有域。
- 私有方法private。
- final实例域，构建对象时必须初始化，构建之后不能修改。

## 4.4 静态域与静态方法
- 在绝大多数的面向对象程序设计语言中，静态域被称为类域。术语static只是沿用了C++的叫法，并无实际意义。
- 静态常量： static final。
- 静态方法是一种不能像对象实施操作的方法。
- 可以使用对象调用静态方法。建议使用类名，而不是对象来调用。
- 术语static的历史。

## 4.5 方法参数
- 按值调用表示方法接收的是调用者提供的值。按引用调用表示方法接收的是调用者提供的变量地址。
- 一个方法可以修改传递引用所对应的变量值，而不能修改传递值调用所对应的变量值。
- Java程序设计语言总是采用按值调用。对象引用进行的是值传递。

## 4.6 对象构造
- 多个方法有相同的名字、不同的参数，便产生了重载。
- 如果在构造器中没有显式地给域赋予初值，那么就会被自动地赋予默认值。
- 如果在编写一个类时没有编写构造器，那么系统就会提供一个无参数构造器。
- 显式域初始化：在类定义中，直接将一个值赋给任何域。（不一定时常量，可以调用方法）
- 参数变量用同样的名字将实例域屏蔽起来。this指示隐式参数。
- 构造器调用同一个类的另一个构造器，this。
- 初始化块，在一个类的声明中可以包含多个代码块。只要构造类的对象，这些块就会被执行。
- 在析构器中，最常见的操作是回收分配给对象的存储空间。由于Java有自动的垃圾回收器，不需要人工回收内存，所以Java不支持析构器。
- 可以为任何一个类添加finalize方法。将在垃圾回收器清除对象之前调用。
- 在实际应用中，不要依赖于使用finalize方法回收任何短缺的资源，这是因为很难知道这个方法什么时候才能够调用。

## 4.7 包
- Java允许使用包（package）将类组织起来。
- 标准的Java类库分布在多个包中。标准的Java包具有一个层次结构。所有的标准Java包都处于java和javax包层次中。
- 使用包的主要原因是确保类名的唯一性。Sun建议域名逆序的形式作为包名，并且对于不同的项目使用不同的子包。
- 访问另一个包中的共有类： 1. 在每个类名之前添加完整的包名； 2. 使用import语句。
- 只能使用*导入一个包。
- import还增加了导入静态方法和静态域的功能。
- 要想将一个类放入包中，就必须将包的名字放在源文件的开头，包中定义类的代码之前。
- 包作用域：可以被同一个包中的所有方法访问。

## 4.8 类路径
- 类存储在文件系统的子目录中。类的路径必须与包名匹配。
- 类文件也可以存储在JAR文件中。
- 类路径所列出的目录和归档文件是搜寻类的起始点。
- 使用-classpath（或 -cp）选项指定类路径。
- 在shell中set CLASSPATH，直到退出shell为止，类路径设置均有效。

## 4.9 文档注释
- javadoc可以由源文件生成一个HTML文档。
- 抽取信息： 包、共有类与接口、共有的和受保护的构造器及方法、共有的和受保护的域。
- 每个文档注释在标记之后紧跟着自由格式文本。标记由@开始。
- 在自由格式文本中，可以使用HTML修饰符。
- 没有必要在每一行的开始用\*。然而，大部分IDE提供了自动添加\*。
- 包注释： 1. package.html文件，在body标记之间的所有文本都会被抽取出来； 2. 提供一个package-info.java文件，必须包含javadoc注释。
- 抽取：javadoc命令。

## 4.10 类设计技巧
- 一定要保证数据私有。
- 一定要对数据初始化。
- 不要在类中使用过多的基本类型。
- 不是所有的域都需要独立的域访问器和域更改器。
- 将职责过多的类进行分解。
- 类名和方法名要能够体现它们的职责。

{% endmarkmap %}
