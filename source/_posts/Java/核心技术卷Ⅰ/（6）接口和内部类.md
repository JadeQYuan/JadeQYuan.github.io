title: 接口和内部类
description: 接口和内部类
categories: 
  - Java
  - 核心技术卷I
author: Jade
date: 2022-01-13 09:00:00
---

{% markmap %}

## 6.1 接口
- 在Java程序设计语言中，接口不是类，而是对类的一组需求描述，这些类要遵从接口描述的统一格式进行定义。
- 接口中的所有方法自动地属于public。
- 在实现接口时，必须把方法声明为public。

- 接口不是类，不能使用new运算符实例化一个接口。
- 能声明接口的变量，接口变量必须引用实现了接口的类对象。
- 接口中不能包含实例域或静态方法，可以包含常量。
- 接口中的域将被自动设为public static final。
- 抽象类只能扩展于一个类。接口可以提供多重继承的大多数好处，同时还能避免多重继承的复杂性和低效性。

## 6.2 对象克隆
- 当拷贝一个变量时，原始变量与拷贝变量引用同一个对象。
- clone方法是Object类的一个protected方法。默认的克隆操作是浅拷贝。
- Cloneable接口是Java提供的几个标记接口之一。

## 6.3 接口与回调
- 回调是一种常见的程序设计模式。在这种模式中，可以指出某个特定事件发生时应该采取的动作。
- 由于对象可以携带一些附加的信息，所以传递一个对象比传递一个函数要灵活得多。

## 6.4 内部类
- 内部类是定义在另一个类中的类。
- 内部类方法可以访问该类定义所在的作用域中的数据，包括私有的数据。
- 内部类可以对同一个包中的其他类隐藏起来。
- 当想要定义一个回调函数且不想编写大量代码时，使用匿名内部类比较便捷。
- 嵌套是一种类之间的关系，而不是对象之间的关系。
- 嵌套类有两个好处：命名控制和访问控制。
- Java内部类还有另外一个功能。内部类的对象有一个隐式引用，它引用了实例化该内部类的外围类对象。

- 内部类是一种编译器现象，与虚拟机无关。
- 局部类不能用public或private访问说明符进行声明。它的作用域被限定在声明这个局部类的块中。
- 局部类有一个优势，即对外部世界可以完全地隐藏起来。
- 与其他内部类相比较，局部类还可以访问局部变量。不过，那些局部变量必须被声明为final。
- 匿名内部类。
- 匿名类不能有构造器。
- 静态内部类。使用内部类只是为了把一个类隐藏在另外一个类的内部，并不需要内部类引用外围类对象。
- 只有内部类可以声明为static。

## 6.5 代理
- Java SE 1.3 新增加的特性。
- 利用代理可以在运行时创建一个实现了一组给定接口的新类。这种功能只有在编译时无法确定需要实现哪个接口时才有必要使用。
- 要想创建一个代理对象，需要使用Proxy类的newProxyInstance方法。
- 代理类是在程序运行过程中创建的。一旦被创建，就变成了常规类。
- 所有的代理类都扩展于Proxy类。
- 所有的代理类都覆盖了Object类中的方法。
- 没有定义代理类的名字，Sun虚拟机中的Proxy类将生成一个字符串$Proxy开头的类名。
- 对于特定的类加载器和预设的一组接口来说，只能有一个代理类。
- 代理类一定是public和final。

{% endmarkmap %}
